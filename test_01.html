<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>The Expansion of High-Speed Rail — Reading Test</title>
<style>
  :root{ --bg:#fff; --text:#111; --muted:#5b5e64; --brand:#1a73e8; --border:#e6e8ee; --panel:#0b0b0b;
         --choice:#f3f4f7; --choice-border:#dfe3ea; --choice-hover:#e9eef7; --correct:#188038; --wrong:#d93025; }
  *{box-sizing:border-box}
  body{margin:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;line-height:1.6}
  .topbar{background:var(--panel);color:#fff;padding:14px 16px;position:sticky;top:0;z-index:10}
  .wrap{max-width:960px;margin:0 auto;padding:0 16px}
  .title{font-weight:800;font-size:1.05rem}.subtitle{opacity:.8;font-size:.9rem}
  main{padding:18px 0 40px}.card{border:1px solid var(--border);background:#fff;border-radius:12px;padding:16px;margin:14px 0}
  .passage{border:1px solid var(--border);border-radius:10px;padding:14px;background:#fcfdff}
  .qhead{font-weight:700;margin-top:12px}.choose{margin:10px 0 6px;font-weight:600}
  .choices{display:grid;gap:10px}.choice{display:flex;gap:12px;align-items:flex-start;padding:12px;background:var(--choice);border:1px solid var(--choice-border);border-radius:10px;cursor:pointer}
  .choice:hover{background:var(--choice-hover)}.circle{width:22px;height:22px;border:2px solid var(--choice-border);border-radius:50%;display:inline-block;margin-top:2px;flex:0 0 auto}
  input[type="radio"]{display:none}input[type="radio"]:checked + .circle{border-color:var(--brand);box-shadow:0 0 0 4px rgba(26,115,232,.15) inset}
  .nav{display:flex;gap:10px;margin-top:16px}button{border:1px solid var(--border);background:#fff;border-radius:10px;padding:10px 14px;cursor:pointer}
  button.primary{background:var(--brand);color:#fff;border-color:var(--brand)}button:disabled{opacity:.5;cursor:not-allowed}
  .resultBox{border:1px solid var(--border);background:#f7fafc;border-radius:12px;padding:16px}.good{color:var(--correct);font-weight:800}.bad{color:var(--wrong);font-weight:800}
  .pill{display:inline-block;padding:2px 8px;border-radius:999px;border:1px solid var(--border);background:#f6f7fb;font-size:.85rem;color:#333}
  .muted{color:var(--muted)} .footnote{color:var(--muted);font-size:.9rem;margin-top:10px}
  .list{display:grid;gap:10px} .tile{border:1px solid var(--border);border-radius:12px;padding:14px;background:#fff;display:flex;gap:10px;align-items:center;text-decoration:none;color:inherit}
  .tile .spacer{flex:1}
  .small{font-size:.92rem}
</style>
</head>
<body>
<div class="topbar"><div class="wrap"><div class="title">The Expansion of High-Speed Rail — Reading Quiz</div><div class="subtitle">One question per page • Submit at the end</div></div></div>
<main class="wrap">

<section id="screen" class="card"></section>
<section id="results" class="card" style="display:none">
  <div class="resultBox">
    <div id="scoreLine" style="font-size:1.1rem;margin-bottom:8px"></div>
    <div id="byType" class="muted small" style="margin-bottom:10px"></div>
    <details><summary style="font-weight:700;cursor:pointer">Review answers</summary><div id="review"></div></details>
    <div class="nav" style="margin-top:12px">
      <a href="index.html"><button>Back to List</button></a>
      <div class="spacer"></div>
      <button id="retryBtn">Try Again</button>
      <a href="results.html"><button class="primary">Results History</button></a>
    </div>
    <div class="footnote">Scores are saved locally in this browser only.</div>
  </div>
</section>
<script>
const PASSAGE = ["Over the past half‑century, high‑speed rail has moved from an experiment to a backbone of intercity travel in several countries. Japan’s Shinkansen demonstrated that trains could be both fast and remarkably punctual, altering expectations about what railways could deliver.", "Supporters argue that electrified trains cut emissions per passenger, particularly on routes of a few hundred kilometers where rail can replace short‑haul flights. When stations connect smoothly to local transit, entire metro areas become reachable without a car.", "Building the system, however, is not trivial. Dedicated tracks require straighter alignments than legacy lines, tunnels and bridges raise costs, and noise controls near dense neighborhoods can slow approvals. Critics also note that sparse regions may struggle to fill seats at prices that cover operating costs.", "Despite these constraints, governments continue to pursue new corridors. China’s network links provincial capitals at a scale that reshapes labor markets, while Spain and Italy show that medium‑sized cities can also benefit if timetables are frequent and reliable.", "Economists caution that the technology is not a cure‑all: a fast train that stops far from downtown or fails to integrate with buses may underperform. The lesson from successful lines is mundane but powerful—speed matters, but connectivity and service design matter just as much."];
const QUESTIONS = [{"q": "What is the main idea of the passage?", "choices": ["One solution fits all contexts.", "The passage weighs benefits and limits of the topic.", "History is listed without purpose.", "Local conditions do not matter."], "answer": 1, "type": "main"}, {"q": "Which title best fits the passage?", "choices": ["Only Problems with The Expansion of High-Speed Rail", "A Simple Guide to The Expansion of High-Speed Rail", "The Expansion of High-Speed Rail: Trade‑offs and Design", "Entertainment and The Expansion of High-Speed Rail"], "answer": 2, "type": "main"}, {"q": "Which factor raises costs when building high‑speed rail?", "choices": ["Tunnels and bridges", "Free parking", "Onboard meals", "Paper tickets"], "answer": 0, "type": "detail"}, {"q": "According to the passage, when do trains best replace flights?", "choices": ["Trips over 2,000 km", "Short urban hops only", "Routes of a few hundred km", "Overseas journeys"], "answer": 2, "type": "detail"}, {"q": "Which country is cited for large‑scale adoption?", "choices": ["China", "Brazil", "Norway", "Kenya"], "answer": 0, "type": "detail"}, {"q": "What else matters besides speed for success?", "choices": ["Connectivity and service design", "Paint color", "Luxury seats only", "Private ownership"], "answer": 0, "type": "detail"}, {"q": "In the passage, “constraints” most nearly means:", "choices": ["limits or restrictions", "public celebrations", "financial gifts", "geographical centers"], "answer": 0, "type": "vocab"}, {"q": "“Consultation” most nearly means:", "choices": ["seeking input from those affected", "silent observation", "punishment", "advertising"], "answer": 0, "type": "vocab"}, {"q": "“Mitigation” most nearly means:", "choices": ["reducing the severity of a problem", "celebrating success", "ignoring the issue", "measuring height"], "answer": 0, "type": "vocab"}, {"q": "“Integration” most nearly means:", "choices": ["linking parts into a working whole", "removing connections", "copying ideas", "stopping growth"], "answer": 0, "type": "vocab"}, {"q": "In the sentence with “these constraints,” “these” refers to:", "choices": ["cost, alignment, and approval challenges", "musical traditions", "winter holidays", "private gardens"], "answer": 0, "type": "reference"}, {"q": "In context, “they” in a sentence about communities most likely refers to:", "choices": ["local residents or stakeholders", "a single minister", "wild animals", "unrelated outsiders"], "answer": 0, "type": "reference"}, {"q": "In the passage, the phrase “this technology” most likely refers to:", "choices": ["the main system discussed", "random gadgets", "paper tickets", "loudspeakers"], "answer": 0, "type": "reference"}, {"q": "What can be inferred about policy from the passage?", "choices": ["Decisions must fit local trade‑offs", "One rule succeeds everywhere", "Speed removes all concerns", "Prices never matter"], "answer": 0, "type": "inference"}, {"q": "What is the author’s attitude?", "choices": ["balanced and evidence‑based", "sarcastic and dismissive", "angry and alarmist", "indifferent and bored"], "answer": 0, "type": "inference"}, {"q": "Which outcome is likely if planning ignores local conditions?", "choices": ["Underperformance despite investment", "Immediate universal success", "No effect at all", "Guaranteed profits"], "answer": 0, "type": "inference"}, {"q": "T/F/NG: The passage claims the topic solves every transport problem.", "choices": ["True", "False", "Not Given", ""], "answer": 1, "type": "tfng"}, {"q": "T/F/NG: Measuring and monitoring are described as important.", "choices": ["True", "False", "Not Given", ""], "answer": 0, "type": "tfng"}, {"q": "What is the purpose of giving specific country examples in the passage?", "choices": ["To illustrate how principles work in practice", "To advertise tourism", "To compare cuisines", "To discourage research"], "answer": 0, "type": "purpose"}, {"q": "Which sentence would best support the author’s view?", "choices": ["A study found outcomes improved when projects integrated with local transit.", "Tickets sold out because of a celebrity.", "A city banned sidewalks to speed cars.", "A company changed its logo."], "answer": 0, "type": "evidence"}];
const STORE = 'reading_results_v1';
let idx=0; let answers={};
function renderQuestion(){
  const q = QUESTIONS[idx]; const total = QUESTIONS.length;
  const screen = document.getElementById('screen'); screen.innerHTML='';
  const box = document.createElement('div');
  const paras = PASSAGE.map(p=>`<p class="small" style="margin:0 0 10px">${p}</p>`).join('');
  box.innerHTML = `
    <div class="passage">${paras}</div>
    <div class="qhead">Question ${idx+1} of ${total} <span class="pill">${q.type.toUpperCase()}</span></div>
    <div class="choose">Choose the correct answer below.</div>
    <div class="choices"></div>
    <div class="nav">
      <a href="index.html"><button>Back to List</button></a>
      <div class="spacer"></div>
      <button id="prevBtn" ${idx===0?'disabled':''}>Previous</button>
      ${idx<total-1 ? `<button id="nextBtn" class="primary">Next</button>` : `<button id="submitBtn" class="primary">Submit</button>`}
    </div>`;
  screen.appendChild(box);
  const choices = box.querySelector('.choices');
  q.choices.forEach((txt,ci)=>{
    if(txt===""){return;}
    const row = document.createElement('label'); row.className='choice';
    row.innerHTML = `<input type="radio" name="q${idx}" value="${ci}" ${answers[idx]===ci?'checked':''}/>
                     <span class="circle"></span><div><strong>${String.fromCharCode(65+ci)}.</strong> ${txt}</div>`;
    choices.appendChild(row);
  });
  const prev = document.getElementById('prevBtn'); if(prev) prev.onclick=()=>{ if(idx>0){ idx--; renderQuestion(); } };
  const next = document.getElementById('nextBtn'); if(next) next.onclick=()=>{ const c=box.querySelector('input[name="q'+idx+'"]:checked'); if(c) answers[idx]=parseInt(c.value); idx++; renderQuestion(); };
  const submit = document.getElementById('submitBtn'); if(submit) submit.onclick=()=>{ const c=box.querySelector('input[name="q'+idx+'"]:checked'); if(c) answers[idx]=parseInt(c.value); grade(); };
  box.querySelectorAll('input[name="q'+idx+'"]').forEach(inp=> inp.onchange=(e)=>{ answers[idx]=parseInt(e.target.value); });
}
function grade(){
  const total = QUESTIONS.length; let correct=0; const byType={}; const rows=[];
  QUESTIONS.forEach((q,i)=>{ const chosen = answers[i]; const ok = chosen===q.answer; if(ok) correct++; rows.push({i, q:q.q, chosen, correct:q.answer, ok, type:q.type}); byType[q.type]=byType[q.type]||{c:0,t:0}; byType[q.type].t++; if(ok) byType[q.type].c++; });
  const percent = Math.round(correct/total*100);
  document.getElementById('scoreLine').innerHTML = `Your Score: <strong>${correct}/${total}</strong> <span class="${percent>=60?'good':'bad'}">(${percent}%)</span>`;
  document.getElementById('byType').innerHTML = Object.entries(byType).map(([k,v])=>`<span class="pill">${k.toUpperCase()}: ${v.c}/${v.t} (${Math.round(v.c/v.t*100)}%)</span>`).join(' ');
  const letters=['A','B','C','D'];
  document.getElementById('review').innerHTML = rows.map(r=>`
    <div style="margin:10px 0; padding:10px; border:1px solid var(--border); border-radius:10px; background:#fff">
      <div><strong>Q${r.i+1}</strong> — <span class="pill">${r.type.toUpperCase()}</span></div>
      <div class="${r.ok?'good':'bad'}" style="margin:6px 0">${r.ok?'✔ Correct':'✖ Wrong'}</div>
      <div><em>Question:</em> ${r.q}</div>
      <div><em>Your answer:</em> ${r.chosen===undefined?'—':letters[r.chosen]+'. '+QUESTIONS[r.i].choices[r.chosen]}</div>
      <div><em>Correct answer:</em> ${letters[r.correct]+'. '+QUESTIONS[r.i].choices[r.correct]}</div>
    </div>`).join('');
  try{
    const rec = { test: document.title.replace(' — Reading Test',''), score: percent, total, correct, ts: Date.now() };
    const arr = JSON.parse(localStorage.getItem('reading_results_v1') || '[]'); arr.push(rec); localStorage.setItem('reading_results_v1', JSON.stringify(arr));
  }catch(e){}
  document.getElementById('screen').style.display='none';
  document.getElementById('results').style.display='block';
  document.getElementById('retryBtn').onclick=()=>{ answers={}; idx=0; document.getElementById('results').style.display='none'; const sc=document.getElementById('screen'); sc.style.display='block'; renderQuestion(); window.scrollTo({top:0,behavior:'smooth'}); };
}
document.addEventListener('DOMContentLoaded', renderQuestion);
</script>

</main>
</body>
</html>
